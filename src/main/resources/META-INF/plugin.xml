<!-- Plugin Configuration File. Read more: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html -->
<idea-plugin>
    <id>org.jetbrains.plugins.template</id>
    <name>CodeScene</name>
    <vendor>JetBrains</vendor>

    <depends>com.intellij.modules.platform</depends>

    <!--  TODO: Add plugin icon  -->

    <resource-bundle>messages.UiLabelsBundle</resource-bundle>

    <idea-version since-build="223" until-build="242.*"/>

    <actions>
        <action
                text="Settings"
                id="ShowSettingsAction"
                icon="AllIcons.General.Gear"
                description="Open the settings dialog"
                class="com.codescene.jetbrains.actions.ShowSettingsAction"
        />
    </actions>

    <extensions defaultExtensionNs="com.intellij">
        <applicationService serviceImplementation="com.codescene.jetbrains.config.global.CodeSceneGlobalSettingsStore"/>

        <applicationConfigurable
                parentId="tools"
                displayName="CodeScene"
                instance="com.codescene.jetbrains.components.settings.CodeSceneSettings"
        />

        <toolWindow
                id="CodeScene"
                icon="/toolWindow/logo-40x40.png"
                factoryClass="com.codescene.jetbrains.components.toolWindow.CodeSceneToolWindowFactory"
        />

        <!-- The order of code vision providers' declarations determines their display sequence in the IDE.
             Providers listed first appear last. Adjust this order to control the hierarchy
             of code smell warnings shown.
        -->
        <codeInsight.codeVisionProvider
                implementation="com.codescene.jetbrains.codeInsight.codeSmells.BumpyRoadCodeVisionProvider"
        />
        <codeInsight.codeVisionProvider
                implementation="com.codescene.jetbrains.codeInsight.codeSmells.ComplexConditionalCodeVisionProvider"
        />
        <codeInsight.codeVisionProvider
                implementation="com.codescene.jetbrains.codeInsight.codeSmells.BrainMethodCodeVisionProvider"
        />
        <codeInsight.codeVisionProvider
                implementation="com.codescene.jetbrains.codeInsight.codeSmells.FunctionArgumentsCodeVisionProvider"
        />
        <codeInsight.codeVisionProvider
                implementation="com.codescene.jetbrains.codeInsight.codeSmells.LargeMethodCodeVisionProvider"
        />
        <codeInsight.codeVisionProvider
                implementation="com.codescene.jetbrains.codeInsight.codeSmells.ComplexMethodCodeVisionProvider"
        />
        <codeInsight.codeVisionProvider
                implementation="com.codescene.jetbrains.codeInsight.codeSmells.NestedComplexityCodeVisionProvider"
        />
        <codeInsight.codeVisionProvider
                implementation="com.codescene.jetbrains.codeInsight.codeSmells.DuplicationCodeVisionProvider"
        />
        <codeInsight.codeVisionProvider
                implementation="com.codescene.jetbrains.codeInsight.codeSmells.ConstructorOverInjectionCodeVisionProvider"
        />
        <codeInsight.codeVisionProvider
                implementation="com.codescene.jetbrains.codeInsight.codeSmells.GlobalNestedComplexityCodeVisionProvider"
        />
        <codeInsight.codeVisionProvider
                implementation="com.codescene.jetbrains.codeInsight.codeSmells.DuplicatedAssertionBlocks"
        />
        <codeInsight.codeVisionProvider
                implementation="com.codescene.jetbrains.codeInsight.codeSmells.FileSizeIssueCodeVisionProvider"
        />
        <codeInsight.codeVisionProvider
                implementation="com.codescene.jetbrains.codeInsight.codeSmells.GlobalConditionalsCodeVisionProvider"
        />
        <codeInsight.codeVisionProvider
                implementation="com.codescene.jetbrains.codeInsight.codeSmells.BrainClassCodeVisionProvider"
        />
        <codeInsight.codeVisionProvider
                implementation="com.codescene.jetbrains.codeInsight.codeSmells.HighDegreeDuplicationCodeVisionProvider"
        />
        <codeInsight.codeVisionProvider
                implementation="com.codescene.jetbrains.codeInsight.codeSmells.LargeAssertionBlocksCodeVisionProvider"
        />
        <codeInsight.codeVisionProvider
                implementation="com.codescene.jetbrains.codeInsight.codeSmells.LargeEmbeddedCodeBlockCodeVisionProvider"
        />
        <codeInsight.codeVisionProvider
                implementation="com.codescene.jetbrains.codeInsight.codeSmells.LinesOfCodeInSingleFileCodeVisionProvider"
        />
        <codeInsight.codeVisionProvider
                implementation="com.codescene.jetbrains.codeInsight.codeSmells.LinesOfDeclarationInSingleFileCodeVisionProvider"
        />
        <codeInsight.codeVisionProvider
                implementation="com.codescene.jetbrains.codeInsight.codeSmells.LowCohesionCodeVisionProvider"
        />
        <codeInsight.codeVisionProvider
                implementation="com.codescene.jetbrains.codeInsight.codeSmells.MissingAbstractionsCodeVisionProvider"
        />
        <codeInsight.codeVisionProvider
                implementation="com.codescene.jetbrains.codeInsight.codeSmells.ModularityIssueCodeVisionProvider"
        />
        <codeInsight.codeVisionProvider
                implementation="com.codescene.jetbrains.codeInsight.codeSmells.FunctionsInSingleModuleCodeVisionProvider"
        />
        <codeInsight.codeVisionProvider
                implementation="com.codescene.jetbrains.codeInsight.codeSmells.OverallCodeComplexityCodeVisionProvider"
        />
        <codeInsight.codeVisionProvider
                implementation="com.codescene.jetbrains.codeInsight.codeSmells.PotentiallyLowCohesionCodeVisionProvider"
        />
        <codeInsight.codeVisionProvider
                implementation="com.codescene.jetbrains.codeInsight.codeSmells.PrimitiveObsessionCodeVisionProvider"
        />
        <codeInsight.codeVisionProvider
                implementation="com.codescene.jetbrains.codeInsight.codeSmells.StringHeavyArgumentsCodeVisionProvider"
        />
    </extensions>

    <applicationListeners>
        <listener
                topic="com.intellij.ide.AppLifecycleListener"
                class="com.github.ericdallo.clj4intellij.listener.ClojureClassLoaderListener"
        />
    </applicationListeners>

    <projectListeners>
        <listener
                activeInTestMode="false"
                class="com.codescene.jetbrains.listeners.MyFileOpenListener"
                topic="com.intellij.openapi.fileEditor.FileEditorManagerListener"
        />
    </projectListeners>
</idea-plugin>
